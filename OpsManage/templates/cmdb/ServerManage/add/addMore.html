{% extends "base.html" %}

{% block css_block %}
<link href="/static/css/form2.css" type="text/css" rel="stylesheet">
<style>
    .tab-pane {
        padding-left: 10px;
        padding-right: 10px;
    }

    #list_box {
        padding-left: 20px;
        padding-right: 20px;
    }
    table  tr th{
        background: #6699cc;
        color: white;
        border: white;
    }
</style>
{% endblock css_block %}

{% block main_content %}

<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <h3>完善设备信息
                <small>添加部件</small>
            </h3>
        </div>

    </div>

    <div class="row">
        <!--  第一行/LEFT -->
        <div class="col-md-4">
            <!-- Custom Tabs -->
            <div class="nav-tabs-custom">
                <ul class="nav nav-tabs">
                    <li class="active"><a href="#RAM" data-toggle="tab">RAM</a></li>
                    <li><a href="#CPU" data-toggle="tab">CPU</a></li>
                    <li><a href="#DISK" data-toggle="tab">DISK</a></li>
                    <li><a href="#PORT" data-toggle="tab">PORT</a></li>
                    <li><a href="#Other" data-toggle="tab">Other</a></li>
                    <li class="pull-right"><a href="#" class="text-muted"><i class="fa fa-gear"></i></a></li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane active" id="RAM">
                        <form class="tab-pane active" action="RAMSubmit" method="post">
                            {% csrf_token %}
                            <!-- 上传资产ID -->
                            <input type="hidden" name="assetId" value="{{ ID }}">
                            <!-- /上传资产ID -->
                            <!-- 内存品牌 -->
                            <div class="form-group">
                                <label for="RAM_brand">内存品牌</label><br>
                                <input class="form-control" type="text" id="RAM_brand" name="brand"
                                       placeholder="请输入内存品牌">
                            </div>
                            <!-- /内存品牌 -->
                            <!-- 内存型号 -->
                            <div class="form-group">
                                <label for="RAM_model">内存型号</label><br>
                                <input class="form-control" type="text" id="RAM_model" name="model"
                                       placeholder="请输入内存型号">
                            </div>
                            <!-- /内存型号 -->
                            <!-- 内存容量 -->
                            <div class="form-group">
                                <label for="RAM_volume">内存容量(G)</label><br>
                                <input class="form-control" type="text" id="RAM_volume" name="volume"
                                       placeholder="请输入内存容量">
                            </div>
                            <!-- /内存容量 -->
                            <!-- 内存插槽 -->
                            <div class="form-group">
                                <label for="RAM_slot">内存插槽</label><br>
                                <input class="form-control" type="number" id="RAM_slot" name="slot"
                                       placeholder="请输入内存插槽">
                            </div>
                            <!-- /内存插槽 -->
                            <!-- 内存状态 -->
                            <div class="form-group">
                                <label for="RAM_status">内存状态</label><br>
                                <select class="form-control inline select2" required id="RAM_status" name="status">
                                    <option value="0">请选择内存状态</option>
                                    <option value="1">正常</option>
                                    <option value="2">故障</option>
                                    <option value="3">下线</option>
                                </select>
                            </div>
                            <!-- /内存状态 -->
                            <!-- 提交按钮 -->
                            <div>
                                <button class="btn btn-success" type="button" onclick="window.location.href='/cmdb/asset'">取消</button>
                                <button class="btn btn-primary pull-right" type="button submit">添加</button>
                            </div>
                            <!-- /内存状态 -->
                        </form>
                    </div>
                    <!-- /内存添加 -->


                    <div class="tab-pane" id="CPU">
                        <form class="tab-pane active" action="CPUSubmit" method="post">
                            {% csrf_token %}
                            <!-- 上传资产ID -->
                            <input type="hidden" name="assetId" value="{{ ID }}">
                            <!-- /上传资产ID -->
                            <!-- CPU品牌 -->
                            <div class="form-group">
                                <label for="CPU_brand">CPU品牌</label><br>
                                <input class="form-control" type="text" id="CPU_brand" name="brand"
                                       placeholder="请输入CPU生产商">
                            </div>
                            <!-- /CPU品牌 -->
                            <!-- CPU型号 -->
                            <div class="form-group">
                                <label for="CPU_model">CPU型号</label><br>
                                <input class="form-control" type="text" id="CPU_model" name="model"
                                       placeholder="请输入CPU型号">
                            </div>
                            <!-- /CPU型号 -->
                            <!-- CPU处理速度 -->
                            <div class="form-group">
                                <label for="CPU_speed">CPU处理速度(G)</label><br>
                                <input class="form-control" type="text" id="CPU_speed" name="speed"
                                       placeholder="请输入CPU处理速度">
                            </div>
                            <!-- /CPU处理速度 -->
                            <!-- CPU核心数量 -->
                            <div class="form-group">
                                <label for="CPU_core_count">核心数量</label><br>
                                <input class="form-control" type="number" min="1" max="16" id="CPU_core_count" name="core_count"
                                       placeholder="请输入CPU核数">
                            </div>
                            <!-- /CPU核心数量 -->
                            <!-- CPU插槽 -->
                            <div class="form-group">
                                <label for="CPU_slot">插槽</label><br>
                                <input class="form-control" type="number" id="CPU_slot" name="slot"
                                       placeholder="请输入CPU插槽">
                            </div>
                            <!-- /CPU插槽 -->
                            <!-- CPU状态 -->
                            <div class="form-group">
                                <label for="CPU_status">内存状态</label><br>
                                <select class="form-control inline select2" required id="CPU_status" name="status">
                                    <option value="0">请选择CPU状态</option>
                                    <option value="1">正常</option>
                                    <option value="2">故障</option>
                                    <option value="3">下线</option>
                                </select>
                            </div>
                            <!-- /CPU状态 -->
                            <!-- CPU提交按钮 -->
                            <div>
                                <button class="btn btn-success" type="button" onclick="window.location.href='/cmdb/asset'">取消</button>
                                <button class="btn btn-primary pull-right" type="button submit">添加</button>
                            </div>
                            <!-- /CPU提交按钮 -->
                        </form>
                    </div>
                    <!-- /CPU添加 -->


                    <!-- 添加硬盘 -->
                    <div class="tab-pane" id="DISK">
                        <form class="tab-pane active" action="DiskSubmit" method="post">
                            {% csrf_token %}
                            <!-- 上传资产ID -->
                            <input type="hidden" name="assetId" value="{{ ID }}">
                            <!-- /上传资产ID -->
                            <!-- 硬盘名称 -->
                            <div class="form-group">
                                <label for="DISK_name">硬盘名称</label><br>
                                <input class="form-control" type="text" id="DISK_name" name="name"
                                       placeholder="请输入硬盘名称">
                            </div>
                            <!-- /硬盘名称 -->
                            <!-- 硬盘品牌 -->
                            <div class="form-group">
                                <label for="DISK_brand">硬盘品牌</label><br>
                                <input class="form-control" type="text" id="DISK_brand" name="brand"
                                       placeholder="请输入硬盘品牌">
                            </div>
                            <!-- /硬盘品牌 -->
                            <!-- 硬盘型号 -->
                            <div class="form-group">
                                <label for="DISK_model">硬盘型号</label><br>
                                <input class="form-control" type="text" id="DISK_model" name="model"
                                       placeholder="请输入硬盘型号">
                            </div>
                            <!-- /硬盘型号 -->
                            <!-- 硬盘序列号 -->
                            <div class="form-group">
                                <label for="DISK_sn">序列号</label><br>
                                <input class="form-control" type="text" id="DISK_sn" name="serial"
                                       placeholder="请输入硬盘序列号">
                            </div>
                            <!-- /硬盘序列号 -->
                            <!-- 硬盘容量 -->
                            <div class="form-group">
                                <label for="DISK_volume">硬盘容量(G)</label><br>
                                <input class="form-control" type="text" id="DISK_volume" name="volume"
                                       placeholder="请输入硬盘容量">
                            </div>
                            <!-- /硬盘容量 -->
                            <!-- 硬盘插槽 -->
                            <div class="form-group">
                                <label for="DISK_slot">硬盘插槽</label><br>
                                <input class="form-control" type="number" id="DISK_slot" name="slot"
                                       placeholder="请输入硬盘插槽">
                            </div>
                            <!-- /硬盘插槽 -->
                            <!-- 硬盘状态 -->
                            <div class="form-group">
                                <label for="DISK_status">硬盘状态</label><br>
                                <select class="form-control inline select2" required id="DISK_status" name="status">
                                    <option value="0">请选择硬盘状态</option>
                                    <option value="1">正常</option>
                                    <option value="2">故障</option>
                                    <option value="3">下线</option>
                                </select>
                            </div>
                            <!-- /硬盘状态 -->
                            <!-- 硬盘属性 -->
                            <div class="form-group">
                                <label for="DISK_attr">硬盘属性</label><br>
                                <textarea class="form-control" id="DISK_attr" name="attr" placeholder="请输入硬盘属性"
                                          rows="4"></textarea>
                            </div>
                            <!-- /硬盘属性 -->
                            <!-- DISK提交按钮 -->
                            <div>
                                <button class="btn btn-success" type="button" onclick="window.location.href='/cmdb/asset'">取消</button>
                                <button class="btn btn-primary pull-right" type="button submit">添加</button>
                            </div>
                            <!-- /DISK提交按钮 -->
                        </form>
                    </div>
                    <!-- /DISK添加 -->


                    <!-- 添加接口 -->
                    <div class="tab-pane" id="PORT">
                        <form class="tab-pane active" action="PortSubmit" method="post">
                            {% csrf_token %}
                            <!-- 上传资产ID -->
                            <input type="hidden" name="assetId" value="{{ ID }}">
                            <!-- /上传资产ID -->
                            <!-- 接口名称 -->
                            <div class="form-group">
                                <label for="PORT_name">接口名称</label><br>
                                <input class="form-control" type="text" id="PORT_name" name="name"
                                       placeholder="请输入接口名称">
                            </div>
                            <!-- /接口名称 -->
                            <!-- 接口类型 -->
                            <div class="form-group">
                                <label for="PORT_type">接口类型</label><br>
                                <select class="form-control inline select2" required id="PORT_type" name="type">
                                    <option value="0">请选择借口类型</option>
                                    <option value="1">Ethernet</option>
                                    <option value="2">GigabitEthernet</option>
                                    <option value="3">TenGigabitEthernet</option>
                                    <option value="4">Pos</option>
                                    <option value="5">Serial</option>
                                    <option value="6">vlan</option>
                                    <option value="7">Tunnel</option>
                                </select>
                            </div>
                            <!-- /接口类型 -->
                            <!-- 接口带宽 -->
                            <div class="form-group">
                                <label for="PORT_bandwidth">接口带宽(M)</label><br>
                                <input class="form-control" type="text" id="PORT_bandwidth" name="bandwidth"
                                       placeholder="请输入接口带宽">
                            </div>
                            <!-- /接口带宽 -->
                            <!-- 接口vlan -->
                            <div class="form-group">
                                <label for="PORT_vlan">接口vlan</label><br>
                                <input class="form-control" type="text" id="PORT_vlan" name="vlan"
                                       placeholder="请输入接口vlan">
                            </div>
                            <!-- /接口vlan -->
                            <!-- 接口地址 -->
                            <div class="form-group">
                                <label for="PORT_ip">接口地址</label><br>
                                <input class="form-control" type="text" id="PORT_ip" name="ip" placeholder="请输入接口地址">
                            </div>
                            <!-- /接口地址 -->
                            <!-- 子网掩码 -->
                            <div class="form-group">
                                <label for="PORT_mask">子网掩码</label><br>
                                <input class="form-control" type="number" id="PORT_mask" name="mask"
                                       placeholder="请输入子网掩码">
                            </div>
                            <!-- /子网掩码 -->
                            <!-- 副地址 -->
                            <div class="form-group">
                                <label for="PORT_sub_ip">接口副地址</label><br>
                                <input class="form-control" type="text" id="PORT_sub_ip" name="sub_ip"
                                       placeholder="请输入接口副地址">
                            </div>
                            <!-- /副地址 -->
                            <!-- 网卡插槽 -->
                            <div class="form-group">
                                <label for="PORT_slot">网卡插槽</label><br>
                                <input class="form-control" type="number" id="PORT_slot" name="slot"
                                       placeholder="请输入网卡槽位">
                            </div>
                            <!-- /网卡插槽 -->
                            <!-- 接口状态 -->
                            <div class="form-group">
                                <label for="PORT_status">接口状态</label><br>
                                <select class="form-control inline select2" required id="PORT_status" name="status">
                                    <option value="0">请选择接口状态</option>
                                    <option value="1">UP</option>
                                    <option value="2">DOWN</option>
                                    <option value="3">AdminDown</option>
                                </select>
                            </div>
                            <!-- /接口状态 -->
                            <!-- 接口提交按钮 -->
                            <div>
                                <button class="btn btn-success" type="button" onclick="window.location.href='/cmdb/asset'">取消</button>
                                <button class="btn btn-primary pull-right" type="button submit">添加</button>
                            </div>
                            <!-- /接口提交按钮 -->
                        </form>
                    </div>
                    <!-- /接口添加 -->

                    <!-- 添加部件 -->
                    <div class="tab-pane" id="Other">
                        <form class="tab-pane active" action="PartSubmit" method="post">
                            {% csrf_token %}
                            <!-- 上传资产ID -->
                            <input type="hidden" name="assetId" value="{{ ID }}">
                            <!-- /上传资产ID -->
                            <!-- 部件名称 -->
                            <div class="form-group">
                                <label for="PART_name">部件名称</label><br>
                                <input class="form-control" type="text" id="PART_name" name="name"
                                       placeholder="请输入部件名称">
                            </div>
                            <!-- /部件名称 -->
                            <!-- 部件类型 -->
                            <div class="form-group">
                                <label for="PART_type">部件类型</label><br>
                                <input class="form-control" type="text" id="PART_type" name="type"
                                       placeholder="请输入部件类型">
                            </div>
                            <!-- /部件类型 -->
                            <!-- 部件型号 -->
                            <div class="form-group">
                                <label for="PART_model">部件型号</label><br>
                                <input class="form-control" type="text" id="PART_model" name="model"
                                       placeholder="请输入部件型号">
                            </div>
                            <!-- /部件型号 -->
                            <!-- 部件序列号 -->
                            <div class="form-group">
                                <label for="PART_sn">序列号</label><br>
                                <input class="form-control" type="text" id="PART_sn" name="sn" placeholder="请输入部件序列号">
                            </div>
                            <!-- /部件序列号 -->
                            <!-- 部件槽位 -->
                            <div class="form-group">
                                <label for="PART_slot">部件插槽</label><br>
                                <input class="form-control" type="number" id="PART_slot" name="slot"
                                       placeholder="请输入硬盘插槽">
                            </div>
                            <!-- /部件槽位  -->
                            <!-- 部件状态 -->
                            <div class="form-group">
                                <label for="PART_status">部件状态</label><br>
                                <select class="form-control inline select2" required id="PART_status" name="status">
                                    <option value="0">请选择接口状态</option>
                                    <option value="1">正常</option>
                                    <option value="2">故障</option>
                                    <option value="3">下线</option>
                                </select>
                            </div>
                            <!-- /部件状态 -->
                            <!-- 部件描述 -->
                            <div class="form-group">
                                <label for="PART_desc">部件描述</label><br>
                                <textarea class="form-control" id="PART_desc" name="partDesc"
                                          rows="4"></textarea>
                            </div>
                            <!-- /部件描述 -->
                            <!-- 部件提交按钮 -->
                            <div>
                                <button class="btn btn-success" type="button" onclick="window.location.href='/cmdb/asset'">取消</button>
                                <button class="btn btn-primary pull-right" type="button submit">添加</button>
                            </div>
                            <!-- /部件提交按钮 -->
                        </form>
                    </div>
                    <!-- /添加部件 -->

                </div>
                <!-- /.tab-content -->
            </div>
            <!-- nav-tabs-custom -->
        </div>
        <!-- /.col -->
        <!--  /第一行/LEFT  -->


        <!--  第一行/RIGHT -->
        <div class="col-md-8">
            <div class="box box-primary">
                <!--  boxheader  -->
                <div class="box-header with-border">
                    <span>已添加的部件</span>
                </div>
                <!--  /boxheader  -->


                <!--  boxbody -->
                <div class="box-body" id="list_box">


                    {% if rams %}

                    <!-- 显示内存 -->
                    <div class="box-body table-responsive ">
                        <span class="text-warning">RAM信息</span><br>
                        <table class="table table-hover table-condensed">
                            <tr>
                                <th>序号</th>
                                <th>厂商</th>
                                <th>型号</th>
                                <th>容量</th>
                                <th>插槽</th>
                                <th>状态</th>
                                <th>更新时间</th>
                            </tr>
                            {% for r in rams %}
                            <tr>
                                <td>{{ forloop.counter}}</td>
                                <td>{{ r.ram_brand }}</td>
                                <td>{{ r.ram_model }}</td>
                                <td>{{ r.ram_volume }}</td>
                                <td>{{ r.ram_slot }}</td>
                                <td><span class="label label-success">{{ r.get_ram_status_display }}</span></td>
                                <td>{{ r.update_date }}</td>
                            </tr>
                            {% endfor %}
                        </table>
                    </div>
                {% endif %}
                    <!-- /显示内存 -->
                {% if cpus %}
                    <!-- 显示CPU-->
                    <div class="box-body table-responsive ">
                        <span class="text-warning ">CPU信息</span><br>
                        <table class="table table-hover table-condensed">
                            <tr>
                                <th>序号</th>
                                <th>厂商</th>
                                <th>型号</th>
                                <th>处理速度</th>
                                <th>内核数量</th>
                                <th>插槽</th>
                                <th>状态</th>
                                <th>更新时间</th>
                            </tr>
                            {% for c in cpus%}
                            <tr>
                                <td>{{ forloop.counter}}</td>
                                <td>{{ c.cpu_brand}}</td>
                                <td>{{ c.cpu_model}}</td>
                                <td>{{ c.cpu_speed}}</td>
                                <td>{{ c.cpu_core_count}}</td>
                                <td>{{ c.cpu_slot}}</td>
                                <td><span class="label label-success">{{ c.get_cpu_status_display  }}</span></td>
                                <td>{{ c.update_date}}</td>
                            </tr>
                            {% endfor %}
                        </table>
                    </div>
                {% endif %}
                    <!-- /显示CPU -->
                {% if disks %}
                    <!-- 显示DISK-->
                    <div class="box-body table-responsive ">
                        <span class="text-warning ">硬盘信息</span><br>
                        <table class="table table-hover table-condensed">
                            <tr>
                                <th>序号</th>
                                <th>名称</th>
                                <th>厂商</th>
                                <th>型号</th>
                                <th>硬盘容量</th>
                                <th>序列号</th>
                                <th>插槽</th>
                                <th>状态</th>
                                <th>属性</th>
                            </tr>
                            {% for d in disks %}
                            <tr>
                                <td>{{ forloop.counter}}</td>
                                <td>{{ d.disk_name }}</td>
                                <td>{{ d.disk_brand }}</td>
                                <td>{{ d.disk_model }}</td>
                                <td>{{ d.disk_volume }}</td>
                                <td>{{ d.disk_serial }}</td>
                                <td>{{ d.disk_slot }}</td>
                                <td><span class="label label-success">{{ d.get_disk_status_display }}</span></td>
                                <td>{{ d.disk_attr }}</td>
                            </tr>
                            {% endfor %}
                        </table>
                    </div>
                {% endif %}
                    <!-- /显示DISK -->

                {% if ports %}
                    <!-- 显示PORT-->
                    <div class="box-body table-responsive ">
                        <span class="text-warning">接口信息</span><br>
                        <table class="table table-hover table-condensed">
                            <tr>
                                <th>序号</th>
                                <th>名称</th>
                                <th>类型</th>
                                <th>带宽</th>
                                <th>vlan</th>
                                <th>IP</th>
                                <th>Mask</th>
                                <th>SubIP</th>
                                <th>网卡槽位</th>
                                <th>状态</th>
                            </tr>
                            {% for po in ports %}
                            <tr>
                                <td>{{ forloop.counter}}</td>
                                <td>{{ po.port_name }}</td>
                                <td>{{po.get_port_type_display }}</td>
                                <td>{{ po.bandwidth }}</td>
                                <td>{{ po.vlan }}</td>
                                <td>{{ po.ip }}</td>
                                <td>{{ po.mask }}</td>
                                <td>{{ po.sub_ip }}</td>
                                <td>{{ po.port_slot }}</td>
                                <td><span class="label label-success">{{ po.get_status_display}}</span></td>

                            </tr>
                            {% endfor %}
                        </table>
                    </div>
                {% endif %}
                    <!-- /显示PORT -->
                {% if parts %}
                    <!-- 显示部件 -->
                    <div class="box-body table-responsive ">
                        <span class="text-warning">部件信息</span><br>
                        <table class="table table-hover table-condensed">
                            <tr>
                                <th>序号</th>
                                <th>名称</th>
                                <th>类型</th>
                                <th>型号</th>
                                <th>序列号</th>
                                <th>插槽</th>
                                <th>状态</th>
                                <th>描述</th>
                            </tr>
                            {% for pa in parts %}
                            <tr>
                                <td>{{ forloop.counter}}</td>
                                <td>{{ pa.parts_name}}</td>
                                <td>{{ pa.parts_type}}</td>
                                <td>{{ pa.parts_model}}</td>
                                <td>{{ pa.parts_sn}}</td>
                                <td>{{ pa.parts_slot}}</td>
                                <td><span class="label label-success">{{ pa.get_parts_status_display}}</span></td>
                                <td>{{ pa.memo}}</td>
                            </tr>
                            {% endfor %}
                        </table>
                    </div>
                {% endif %}
                    <!-- /显示部件 -->


                </div>
                <!--  /boxbody -->

                <!--  boxfooter -->
                <div class="box-body">
                    <button type="button" class="btn btn-sm btn-primary pull-right"
                            onclick="window.location.href='/cmdb/asset'">完成部件添加
                    </button>
                </div>
                <!--  /boxfooter -->


            </div>
        </div>
        <!--  第一行/RIGHT -->


    </div>
</div>
{% endblock main_content %}



